<!DOCTYPE html >
<head>
<title>Proportion/tutorial</title>
<link rel="stylesheet" href="../styles.css">
<script type="text/javascript" src="../proportion.js"></script>
<script type="text/javascript">
	
	var frame = 0; 
	var theP;
	var theC; 
	
	function testcode() { 
		var a, b; 
		
		theP.clear(); 
		
		// given two points
		var p1 = theP.addGivenPoint(.2, .5); 
		var p2 = theP.addGivenPoint(.5, .5); 
		if (frame>20) { 
		// draw a line through them
			var ln1 = theP.addLine(p1, p2); 
			theP.setGroup(ln1, 1); 
			
			// draw circles thru both both ways
			var c1 = theP.addCircle(p1, p2); 
			var c2 = theP.addCircle(p2, p1); // the first arc of the spiral!
			theP.setGroup(c2, 1);
			// points on the outside
			var p3 = theP.addSecondIntersection(c1, ln1, p2); 
			var p4 = theP.addSecondIntersection(c2, ln1, p1); 
	
			// make circles to make parpendiculars
			var c3 = theP.addCircle(p3, p2); // big circles for the left edge
			var c5 = theP.addCircle(p2, p3); 
			var c4 = theP.addCircle(p1, p4); // big circles for vert thru p2
			var c6 = theP.addCircle(p4, p1); 
			theP.setGroup(c6, 1); 
			
			// make points to use to make vertical lines
			var p5 = theP.addSecondIntersection(c1, c2, p4); // p1p2 bisector lower; generally used to get pts below ln1
			var p6 = theP.addFirstIntersection(c5, c3, p5); // pt below p1
			var p7 = theP.addFirstIntersection(c6, c4, p5); // below p2
			var p8 = theP.addFirstIntersection(c1, c2, p4); // p1p2 bisector higher
		
			// vertical lines
			var ln2 = theP.addLine(p1, p6); // vert thru p1
			theP.setGroup(ln2, 1);
			var ln3 = theP.addLine(p2, p7); // vert thru p2
			var ln4 = theP.addLine(p5, p8); // bisector of p1p2

			// make bottom edge from bottom points of c1 and c2
			var p9 = theP.addFirstIntersection(c1, ln2, p5); 
			var p10 = theP.addFirstIntersection(c2, ln3, p5); 
			var ln5  = theP.addLine(p9, p10);  // ln5 = bottom edge.
			theP.setGroup(ln5, 1); 

			// c7 and c8 intersect 
			var p11 = theP.addFirstIntersection(ln1, ln4, p5); 
			var p12 = theP.addFirstIntersection(ln5, ln4, p5); 
			var c7 = theP.addCircle(p11, p10); 
			var c8 = theP.addCircle(p12, p2);  
			
			// intersect circles to get the left edge
			var p13 = theP.addFirstIntersection(c7, ln1, p4); 
			var p14 = theP.addFirstIntersection(c8, ln5, p4); 
			var ln6 = theP.addLine(p13, p14); 
			theP.setGroup(ln6, 1); 
		}
		
		if (frame >40) { 
			var c20 = theP.addCircle(p14, p10); 
			var c21 = theP.addCircle(p10, p14); 
			var p20 = theP.addFirstIntersection(c20, ln6, p2) ;
			var p21 = theP.addFirstIntersection(c21, ln3, p2); 
			var ln20 = theP.addLine(p20, p21); 
			var c22 = theP.addCircle(p21, p10); // more spiral
			theP.setGroup(c22, 1); 
			
		
		}
		if (frame >80) { 
			var c30 = theP.addCircle(p13, p20); 
			var c31 = theP.addCircle(p20, p13); 
			var p30 = theP.addFirstIntersection(c30, ln1, p1) ;
			var p31 = theP.addFirstIntersection(c31, ln20, p1); 
			var ln30 = theP.addLine(p30, p31); 
			var c232 = theP.addCircle(p31, p20); 
			theP.setGroup(c232, 1); 
		
		}
		
		
		// use two sets of "beginPath" and "stroke" calls to use two colors
		theC.beginPath();
		theC.strokeStyle = "#fcc";
		theP.trace(); // draw everything pink and faint
		theC.stroke();
		if (frame>120) { 
			theC.beginPath(); 
			theC.strokeStyle = "#000";
			theP.traceGroup(1); // draw the rect and the spiral black and bold
			theC.stroke(); 
		}
		
		
		++frame;
		if (frame>300) { frame = 0; }
	
	}
	
	
	function redraw() { 
		var c_canvas = document.getElementById("sampleCanvas");
		theC = c_canvas.getContext("2d");
		
		theC.fillStyle = 'white';
		theC.strokeStyle = "#000";
		theP = new prPage(theC,"#ffffff"); 
		setInterval(testcode, 20); 
	}


</script>

<body  onLoad="redraw();">
<div class="container">
  <div class="header">
   	<div class="left"> <a href="index.html"><img src="../icon.jpg" alt="workly.com" /></a> 
    	</div>
    <div class="right">
        Proportion tutorial: building a spiral; using color for legibility.
        </div>
        
    <div class="clear"></div>
    </div> <!-- header--> 
    
  <div class="subCont">
    	<canvas id="sampleCanvas" width="640" height="640"></canvas>

    </div><!-- subCont -->
    
    <div class = "subCont">
    	<div class="codeBox">
        By setting the "group" propoerty of some of the circles and lines, 
        and using "traceGroup" instead of "trace", we can make a much clearer diagram. 
        <br>
        <br>
        Still, we are only able to draw points, lines, and circles. 
        The spiral is visible, but we are not yet able to draw it. 
        
       <br>
       <br>
       Please look at the source code of this page for more information.
	</div></div> 
        
    
</div><!-- container -->

</body>
</html>
